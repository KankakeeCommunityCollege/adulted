// Custom JS for Slick img carousels

$('.hero-slider__slider').slick({
  dots: true,
  slidesToShow: 1,
  slidesToScroll: 1,
  autoplay: true,
  autoplaySpeed: 3000,
  prevArrow:'<img alt="" class="a-left control-c prev slick-prev" src="assets/img/dbl-prev.svg">',
  nextArrow:'<img alt="" class="a-right control-c next slick-next" src="assets/img/dbl-next.svg">'
});

// Lazy load images
// ex. <img data-src="/path/to/image.jpg" alt="">
$(document).ready(function(){
  (function() {
    [].forEach.call(document.querySelectorAll('img[data-src]'), function(img) {
      img.setAttribute('src', img.getAttribute('data-src'));
      img.onload = function() {
        img.removeAttribute('data-src');
      };
    });
  })();
});

// Highlights the current page in local navigation bar
$(document).ready(function () {
  var currentUrl = window.location.href;
  var noProto = currentUrl.replace(/(^\w+:|^)\/\//, '');
  $('#navbarSupportedContent').find('.active').removeClass('active');
  if (noProto == 'foundation.kcc.edu/') {
    $('#home').addClass('active');
  } else if (currentUrl.indexOf('/events/') > -1) {
    $('#events').addClass('active');
  } else if (currentUrl.indexOf('/about/') > -1) {
    $('#about').addClass('active');
  } else if (currentUrl.indexOf('/alumni/') > -1) {
    $('#alumni').addClass('active');
  } else if (currentUrl.indexOf('/scholarships/') > -1) {
    $('#scholarships').addClass('active');
  } else if (currentUrl.indexOf('#contact') > -1) {
    $('#home').addClass('active');
  }
});

$(document).ready(function() {
  function wonderBreadcrumbsUnite() {
    // Get the user's current url
    var currentUrl = window.location.href;
    // Remove the http(s):// protocol
    var noProto = currentUrl.replace(/(^\w+:|^)\/\//, '');
    // Remove the baseURL (foundation.kcc.edu)
    var noBase = noProto.replace('foundation.kcc.edu/', '');
    // Split-out the URL by '/' seperators and return it as an array (essentially grabbing the page names)
//    var splitFunc = function splitUrl (noBase) {
//      var urlArray = noBase.split(/\//);
//      // console.log(urlArray);
//      return urlArray;
//    };

    function createList() {
      if (noProto == 'foundation.kcc.edu/') {
        console.log('HOME!');
      }
      //slideString.push();
    }
    createList();


    // Take that (page name) Array and shove-it ino a function that builds out list items...

    // ... Links within the list items to the appropriate url based off the array strings ...

    // ... Text within the link items ...

    // Add 'active' class to the last item

    // Shove the built out list items (the breadcrumbs) into the page
  }
  wonderBreadcrumbsUnite();
});
